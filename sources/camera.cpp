                                                                                                     /*
/##################################################################################################\
#                                                                                                  #
#  Author    : Thomas Laquet - © INT Evry                                                          #
#  Date      : 07-31-2006                                                                          #
#  change #1 : date/author/what                                                                    #
#  change #2 : ../../..                                                                            #
#                                                                                                  #
####################################################################################################
#                                                                                                  #
#  this class is a camera (a position and 2 vectors)                                               #
#                                                                                                  #
\##################################################################################################/
                                                                                                     */

#include "camera.h"


/****************************************************************************\
*                                                                            *
*                            Variables EXTERNES                              *
*                                                                            *
\****************************************************************************/


/****************************************************************************\
*                                                                            *
*                            Variables GLOBALES                              *
*                                                                            *
\****************************************************************************/


/****************************************************************************\
*                                                                            *
*                             Variables LOCALES                              *
*                                                                            *
\****************************************************************************/



/**************************************************************************\
*                                                                          *
* Default camera has an up vector (0,1,0) and a direction vector (0,0,-1)  *
* position is (0,0,0). (Default camera is like the default OpenGL camera)  *
*                                                                          *
\**************************************************************************/
CAMERA::CAMERA()
{
	position	= point(0,0,0);
	direction	= position + point(0,0,-1);
	orientation	= point(0,1,0);
}


/**************************************************************************\
*                                                                          *
*  setup position and orientation                                          *
*                                                                          *
\**************************************************************************/
void CAMERA::update(const point& pos, float x, float y, float z)
{
  position    = pos;
  orientation = quaternion_rotation(point(0, 1, 0), point(1,0,0), point(0,1,0), point(0,0,1), x, y, z);
  direction   = quaternion_rotation(point(0, 0,-1), point(1,0,0), point(0,1,0), point(0,0,1), x, y, z) + pos;
}

